

## 微服務特性

1. 獨立部署
	- 微服務能夠在功能發布時獨立部署不受其他微服務影響，除了降低耦合程度，也能讓服務的迭代更方便。
2. 具備自己的資料
	- 各個微服務應該具備資料，即每個微服務有一顆屬於自己業務範圍內資料的 DB。若是 A 微服務需要 B 微服務的資料時，應透過 B 提供公開介面 (通常是 API) 進行存取。

>[!info]
>可以想像若是微服務之間共享資料庫，兩者彼此間針對資料庫進行改動時，就有可能間接的導致獨立部署變得困難


## Pros and Cons

### Pros
根據在 [微服務特性](##微服務特性) 中所提到的，既然微服務間能夠獨立進行部署，且是透過公開的介面彼此進行通訊的話，也就代表各個微服務之間能夠選擇不同的 tech stack 以更合適的方式去解決該業務範圍可能遇到的問題。**靈活性**可以說是~~拆分的好的~~微服務架構所具備最大的優勢。既能夠受惠於獨立部署而達成快速迭代，也能夠透過拆分的特性透過不同的技術解決不同領域的問題。

### Cons
既然整個應用程式架構是透過許多微服務組成，也意味著微服務之間的通訊會是一大問題，當遇到**延遲**或是**資料不一致**等問題時，處理上就會相對單體式系統來說更複雜。

## 單體式系統是什麼

書中大致將單體式系統分為三種

[單一程序的單體式系統](###單一程序的單體式系統)
[分散式單體式](###分散式單體式)
[第三方黑盒子](###第三方黑盒子)

### 單一程序的單體式系統

所有的程式碼都包含在單一程序中。也是作者看過許多人苦苦掙扎的類型，簡單來說就是一大包沒有經過好的拆分的系統(?)

既然有沒有拆分好的系統，那同也有能夠拆分好的單體式系統，在書中被稱為 **模組化單體式**，模組化單體式本身指的就是將功能切分好為各種不同的模組，各個模組之間同樣是獨立負責各自的領域內容，但在任一模組有變動時，同樣是整個系統都需要進行重新部署。

### 分散式單體式系統

書中認為的災難類型，具備了單體式與分散式系統的所有缺點，可以說是拆分微服務失敗的狀況。

舉例來說，因為各個單體式系統之間的邊界不夠明確，所以會造成進行單一功能修改的時可能就要改另外兩三個系統，徒增了系統的複雜性。

### 第三方黑盒子

由第三方所開發，我們無法直接對其進行修改，所以無法分解的系統。


## 分割單體式系統

在理解現有程式碼之後，可以透過將單體式系統拆分成**模組化單體式**來解決問題，而作者也在書中提到，模組化單體式通常就可以解決大部分的問題。

若是以微服務為拆解目的，作者也推薦能夠透過 **漸進重寫** 的方式，先重寫現有的功能來優化程式碼，再重新實現功能到微服務上。有時候會發現重寫的過程中就能達到想要的效益，反而不需要微服務。當然，大部分以微服務為目標的團隊很少會執行這個重寫的流程，大多都會直接進行功能的實現。

## 遷移模式

### 絞殺ㄖㄨㄥ











